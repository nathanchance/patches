From 5a3e9bf022dc5cbbdb95c59fbf02437cb16c2225 Mon Sep 17 00:00:00 2001
From: Nathan Chancellor <nathan@kernel.org>
Date: Mon, 15 Aug 2022 08:42:19 -0700
Subject: [PATCH 14/15] HACK: CURRENT: riscv: Initialize cbom_hartid in
 riscv_init_cbom_blocksize()

Signed-off-by: Nathan Chancellor <nathan@kernel.org>
---
 arch/riscv/mm/dma-noncoherent.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/arch/riscv/mm/dma-noncoherent.c b/arch/riscv/mm/dma-noncoherent.c
index cd2225304c82..42c3982abed1 100644
--- a/arch/riscv/mm/dma-noncoherent.c
+++ b/arch/riscv/mm/dma-noncoherent.c
@@ -84,7 +84,7 @@ void riscv_init_cbom_blocksize(void)
 
 	for_each_of_cpu_node(node) {
 		unsigned long hartid;
-		int cbom_hartid;
+		int cbom_hartid = 0;
 
 		ret = riscv_of_processor_hartid(node, &hartid);
 		if (ret)
-- 
2.37.2


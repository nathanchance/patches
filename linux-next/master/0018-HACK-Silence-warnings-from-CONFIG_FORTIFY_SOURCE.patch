From 2f8e1dad58a772c5095c4011ac67148a5424405f Mon Sep 17 00:00:00 2001
From: Nathan Chancellor <nathan@kernel.org>
Date: Mon, 14 Feb 2022 16:19:15 -0700
Subject: [PATCH 18/22] HACK: Silence warnings from CONFIG_FORTIFY_SOURCE

Link: https://github.com/ClangBuiltLinux/linux/issues/1591
Link: https://github.com/ClangBuiltLinux/linux/issues/1592
Signed-off-by: Nathan Chancellor <nathan@kernel.org>
---
 drivers/net/ethernet/huawei/hinic/hinic_devlink.c | 2 ++
 drivers/net/wireless/intel/iwlwifi/iwl-dbg-tlv.c  | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/huawei/hinic/hinic_devlink.c b/drivers/net/ethernet/huawei/hinic/hinic_devlink.c
index 60ae8bfc5f69..7791ddb7ea25 100644
--- a/drivers/net/ethernet/huawei/hinic/hinic_devlink.c
+++ b/drivers/net/ethernet/huawei/hinic/hinic_devlink.c
@@ -43,9 +43,11 @@ static bool check_image_valid(struct hinic_devlink_priv *priv, const u8 *buf,
 
 	for (i = 0; i < fw_image->fw_info.fw_section_cnt; i++) {
 		len += fw_image->fw_section_info[i].fw_section_len;
+#if 0
 		memcpy(&host_image->image_section_info[i],
 		       &fw_image->fw_section_info[i],
 		       sizeof(struct fw_section_info_st));
+#endif
 	}
 
 	if (len != fw_image->fw_len ||
diff --git a/drivers/net/wireless/intel/iwlwifi/iwl-dbg-tlv.c b/drivers/net/wireless/intel/iwlwifi/iwl-dbg-tlv.c
index c73672d61356..5e2046a62ac3 100644
--- a/drivers/net/wireless/intel/iwlwifi/iwl-dbg-tlv.c
+++ b/drivers/net/wireless/intel/iwlwifi/iwl-dbg-tlv.c
@@ -74,7 +74,7 @@ static int iwl_dbg_tlv_add(const struct iwl_ucode_tlv *tlv,
 	if (!node)
 		return -ENOMEM;
 
-	memcpy(&node->tlv, tlv, sizeof(node->tlv) + len);
+	/* memcpy(&node->tlv, tlv, sizeof(node->tlv) + len); */
 	list_add_tail(&node->list, list);
 
 	return 0;
-- 
2.35.1


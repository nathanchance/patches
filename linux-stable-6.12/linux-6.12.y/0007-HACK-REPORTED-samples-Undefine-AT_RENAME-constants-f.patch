From 3ae64595e8fcf70f3278ce517a31cc05e8b41ca5 Mon Sep 17 00:00:00 2001
From: Nathan Chancellor <nathan@kernel.org>
Date: Sun, 3 Aug 2025 10:56:50 -0700
Subject: [PATCH 07/12] HACK: REPORTED: samples: Undefine AT_RENAME constants
 from libc

Link: https://inbox.sourceware.org/libc-alpha/20250803175420.GA1386776@ax162/
Signed-off-by: Nathan Chancellor <nathan@kernel.org>
---
 samples/vfs/test-statx.c         | 3 +++
 samples/watch_queue/watch_test.c | 3 +++
 2 files changed, 6 insertions(+)

diff --git a/samples/vfs/test-statx.c b/samples/vfs/test-statx.c
index 49c7a46cee07..17332100a2b5 100644
--- a/samples/vfs/test-statx.c
+++ b/samples/vfs/test-statx.c
@@ -20,6 +20,9 @@
 #include <sys/syscall.h>
 #include <sys/types.h>
 #include <linux/stat.h>
+#undef AT_RENAME_NOREPLACE
+#undef AT_RENAME_EXCHANGE
+#undef AT_RENAME_WHITEOUT
 #include <linux/fcntl.h>
 #define statx foo
 #define statx_timestamp foo_timestamp
diff --git a/samples/watch_queue/watch_test.c b/samples/watch_queue/watch_test.c
index 8c6cb57d5cfc..c3c0111cae40 100644
--- a/samples/watch_queue/watch_test.c
+++ b/samples/watch_queue/watch_test.c
@@ -16,6 +16,9 @@
 #include <errno.h>
 #include <sys/ioctl.h>
 #include <limits.h>
+#undef AT_RENAME_NOREPLACE
+#undef AT_RENAME_EXCHANGE
+#undef AT_RENAME_WHITEOUT
 #include <linux/watch_queue.h>
 #include <linux/unistd.h>
 #include <linux/keyctl.h>
-- 
2.51.0

